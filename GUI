
 function descriptor()
    return {
       title = "Advanced Bookmark",
       version = "1.0",
       author = "Harsh Butani",
       url = 'http://',
       shortdesc = "Advanced Bookmark ",
       description = "full description",
       capabilities = {"menu", "input-listener", "meta-listener", "playing-listener"}
    }
 end
 
 function media_metadata()
  input = vlc.object.input()
  media_name = vlc.input.item():name()
 end

 function error_box()
 error_dialog = vlc.dialog("Ohh Come on..")
 error_dialog:add_label("Atleast open a media file before switching on the extension")
 end


 function activate()

  vlc.msg.dbg(vlc.config.userdatadir())
  if pcall(media_metadata) then
   media_metadata() 
   destination = vlc.config.userdatadir()..
  
   createGUI()
   
  else error_box()
 
  end
 end
 
 function deactivate()
    
     end
 
 function close()
    vlc.deactivate()
 end


 function createGUI()

   main_layout = vlc.dialog("Advanced Bookmark")
   main_layout:add_label("<b>Bookmarks for this media :</b>",1,3)  
   moments_list = main_layout:add_list(1,4,4,1)
   capture_moment_b = main_layout:add_button(" Create Bookmark ",capture_moment,1, 5, 1, 1)
   remove_moment_b = main_layout:add_button(" Remove Bookmark ",remove_moment,3,5,1,1)
   go_to_moment_b = main_layout:add_button(" Jump to Bookmark ",go_to_moment,2,5,1,1)
   main_layout:add_label("<hr>",1,6,5,1)
 
 end


